<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Convertisseur de couleurs - Useful Tools</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gradient-to-br from-slate-900 to-slate-800 min-h-screen text-white">
    <div class="container mx-auto px-4 py-8 max-w-2xl">
        <a href="../index.html" class="text-blue-400 hover:text-blue-300 mb-6 inline-block">‚Üê Retour</a>
        <h1 class="text-4xl font-bold mb-2">üåà Convertisseur de couleurs</h1>
        <p class="text-gray-400 mb-8">Convertit entre HEX, RGB et HSL</p>

        <div class="bg-slate-800 rounded-xl p-6 border border-slate-700 mb-6">
            <div class="flex justify-center mb-6">
                <div id="preview" class="w-32 h-32 rounded-xl border-4 border-slate-600" style="background: #3b82f6"></div>
            </div>

            <div class="space-y-4">
                <div>
                    <label class="block text-sm font-medium mb-2">HEX</label>
                    <div class="flex gap-2">
                        <input type="text" id="hex" value="#3b82f6" class="flex-1 bg-slate-700 border border-slate-600 rounded-lg p-3 text-white font-mono focus:border-blue-500 focus:outline-none" oninput="fromHex()">
                        <input type="color" id="picker" value="#3b82f6" class="w-14 h-12 rounded-lg cursor-pointer bg-slate-700 border border-slate-600" oninput="document.getElementById('hex').value = this.value; fromHex()">
                        <button onclick="copy('hex')" class="bg-slate-600 hover:bg-slate-500 px-4 rounded-lg">üìã</button>
                    </div>
                </div>

                <div>
                    <label class="block text-sm font-medium mb-2">RGB</label>
                    <div class="flex gap-2">
                        <input type="text" id="rgb" class="flex-1 bg-slate-700 border border-slate-600 rounded-lg p-3 text-white font-mono focus:border-blue-500 focus:outline-none" placeholder="rgb(59, 130, 246)" oninput="fromRGB()">
                        <button onclick="copy('rgb')" class="bg-slate-600 hover:bg-slate-500 px-4 rounded-lg">üìã</button>
                    </div>
                </div>

                <div>
                    <label class="block text-sm font-medium mb-2">HSL</label>
                    <div class="flex gap-2">
                        <input type="text" id="hsl" class="flex-1 bg-slate-700 border border-slate-600 rounded-lg p-3 text-white font-mono focus:border-blue-500 focus:outline-none" placeholder="hsl(217, 91%, 60%)" oninput="fromHSL()">
                        <button onclick="copy('hsl')" class="bg-slate-600 hover:bg-slate-500 px-4 rounded-lg">üìã</button>
                    </div>
                </div>

                <div>
                    <label class="block text-sm font-medium mb-2">RGB Values</label>
                    <div class="grid grid-cols-3 gap-2">
                        <div>
                            <label class="text-xs text-gray-400">R</label>
                            <input type="number" id="r" min="0" max="255" class="w-full bg-slate-700 border border-slate-600 rounded-lg p-2 text-white text-center" oninput="fromRGBValues()">
                        </div>
                        <div>
                            <label class="text-xs text-gray-400">G</label>
                            <input type="number" id="g" min="0" max="255" class="w-full bg-slate-700 border border-slate-600 rounded-lg p-2 text-white text-center" oninput="fromRGBValues()">
                        </div>
                        <div>
                            <label class="text-xs text-gray-400">B</label>
                            <input type="number" id="b" min="0" max="255" class="w-full bg-slate-700 border border-slate-600 rounded-lg p-2 text-white text-center" oninput="fromRGBValues()">
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        function hexToRgb(hex) {
            const result = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex);
            return result ? { r: parseInt(result[1], 16), g: parseInt(result[2], 16), b: parseInt(result[3], 16) } : null;
        }

        function rgbToHex(r, g, b) {
            return '#' + [r, g, b].map(x => Math.max(0, Math.min(255, x)).toString(16).padStart(2, '0')).join('');
        }

        function rgbToHsl(r, g, b) {
            r /= 255; g /= 255; b /= 255;
            const max = Math.max(r, g, b), min = Math.min(r, g, b);
            let h, s, l = (max + min) / 2;
            if (max === min) { h = s = 0; }
            else {
                const d = max - min;
                s = l > 0.5 ? d / (2 - max - min) : d / (max + min);
                switch (max) {
                    case r: h = ((g - b) / d + (g < b ? 6 : 0)) / 6; break;
                    case g: h = ((b - r) / d + 2) / 6; break;
                    case b: h = ((r - g) / d + 4) / 6; break;
                }
            }
            return { h: Math.round(h * 360), s: Math.round(s * 100), l: Math.round(l * 100) };
        }

        function hslToRgb(h, s, l) {
            h /= 360; s /= 100; l /= 100;
            let r, g, b;
            if (s === 0) { r = g = b = l; }
            else {
                const hue2rgb = (p, q, t) => { if (t < 0) t += 1; if (t > 1) t -= 1; if (t < 1/6) return p + (q - p) * 6 * t; if (t < 1/2) return q; if (t < 2/3) return p + (q - p) * (2/3 - t) * 6; return p; };
                const q = l < 0.5 ? l * (1 + s) : l + s - l * s, p = 2 * l - q;
                r = hue2rgb(p, q, h + 1/3); g = hue2rgb(p, q, h); b = hue2rgb(p, q, h - 1/3);
            }
            return { r: Math.round(r * 255), g: Math.round(g * 255), b: Math.round(b * 255) };
        }

        function updateAll(r, g, b) {
            const hex = rgbToHex(r, g, b);
            const hsl = rgbToHsl(r, g, b);
            document.getElementById('hex').value = hex;
            document.getElementById('picker').value = hex;
            document.getElementById('rgb').value = `rgb(${r}, ${g}, ${b})`;
            document.getElementById('hsl').value = `hsl(${hsl.h}, ${hsl.s}%, ${hsl.l}%)`;
            document.getElementById('r').value = r;
            document.getElementById('g').value = g;
            document.getElementById('b').value = b;
            document.getElementById('preview').style.background = hex;
        }

        function fromHex() {
            const rgb = hexToRgb(document.getElementById('hex').value);
            if (rgb) updateAll(rgb.r, rgb.g, rgb.b);
        }

        function fromRGB() {
            const match = document.getElementById('rgb').value.match(/rgb\((\d+),\s*(\d+),\s*(\d+)\)/);
            if (match) updateAll(parseInt(match[1]), parseInt(match[2]), parseInt(match[3]));
        }

        function fromHSL() {
            const match = document.getElementById('hsl').value.match(/hsl\((\d+),\s*(\d+)%,\s*(\d+)%\)/);
            if (match) { const rgb = hslToRgb(parseInt(match[1]), parseInt(match[2]), parseInt(match[3])); updateAll(rgb.r, rgb.g, rgb.b); }
        }

        function fromRGBValues() {
            updateAll(parseInt(document.getElementById('r').value) || 0, parseInt(document.getElementById('g').value) || 0, parseInt(document.getElementById('b').value) || 0);
        }

        function copy(id) { navigator.clipboard.writeText(document.getElementById(id).value); }
        fromHex();
    </script>
</body>
</html>

